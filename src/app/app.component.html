<!-- Se instala Angular Material para mejorar la interfaz con 
ng add @angular/material
-->

<mat-toolbar color="primary" class="navbar">
  <!-- <div class="logo">
    <img src="assets/logo.jpg" alt="Logo">
  </div> -->
  <span class="title">CreditLens Chatbot</span>
  <span class="spacer"></span>
  <button mat-button (click)="navigateTo('chatbot')">游눫 Chatbot</button>
  <button mat-button (click)="navigateTo('metrics')" *ngIf="authService.getUser() === 'admin'">游늵 M칠tricas</button>
  <!-- Mostrar "Login" si el usuario NO est치 autenticado -->
  <button mat-button *ngIf="!authService.isAuthenticated()" (click)="navigateTo('login')">游댏 Login</button>

  <!-- Mostrar "Cerrar Sesi칩n" si el usuario est치 autenticado -->
  <button mat-button *ngIf="authService.isAuthenticated()" (click)="logout()">游뛁 Cerrar Sesi칩n</button>
  
</mat-toolbar>

<!-- Si el usuario no est치 autenticado, muestra solo el login -->
<div *ngIf="!authService.isAuthenticated(); else authenticatedTemplate">
  <app-login></app-login>
</div>

<!-- Si est치 autenticado, muestra el router-outlet para cargar Chatbot o M칠tricas -->
<ng-template #authenticatedTemplate>
  <router-outlet></router-outlet>
</ng-template>

<!-- <div *ngIf="!authService.isAuthenticated(); else chatbotTemplate">
  <app-login></app-login>
</div>


<ng-template #chatbotTemplate>
  <app-chatbot></app-chatbot>
  <button class="logout-btn" (click)="logout()">游뛁 Cerrar Sesi칩n</button>
</ng-template> -->

<!-- <router-outlet></router-outlet> -->

